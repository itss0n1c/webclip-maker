var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function o(t){t.forEach(e)}function i(t){return"function"==typeof t}function l(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function c(e,n,o){e.$$.on_destroy.push(function(e,...n){if(null==e)return t;const o=e.subscribe(...n);return o.unsubscribe?()=>o.unsubscribe():o}(n,o))}function r(t,e,n,o){return t[1]&&o?function(t,e){for(const n in e)t[n]=e[n];return t}(n.ctx.slice(),t[1](o(e))):n.ctx}function s(t,e,n,o,i,l,c){const s=function(t,e,n,o){if(t[2]&&o){const i=t[2](o(n));if(void 0===e.dirty)return i;if("object"==typeof i){const t=[],n=Math.max(e.dirty.length,i.length);for(let o=0;o<n;o+=1)t[o]=e.dirty[o]|i[o];return t}return e.dirty|i}return e.dirty}(e,o,i,l);if(s){const i=r(e,n,o,c);t.p(i,s)}}function a(t,e){t.appendChild(e)}function u(t,e,n){t.insertBefore(e,n||null)}function f(t){t.parentNode.removeChild(t)}function d(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function p(t){return document.createElement(t)}function g(t){return document.createTextNode(t)}function m(){return g(" ")}function h(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function v(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function b(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function $(t,e){t.value=null==e?"":e}let y;function w(t){y=t}function x(){if(!y)throw new Error("Function called outside component initialization");return y}function _(){const t=x();return(e,n)=>{const o=t.$$.callbacks[e];if(o){const i=function(t,e){const n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!1,!1,e),n}(e,n);o.slice().forEach((e=>{e.call(t,i)}))}}}const k=[],C=[],j=[],L=[],S=Promise.resolve();let U=!1;function P(t){j.push(t)}let I=!1;const R=new Set;function E(){if(!I){I=!0;do{for(let t=0;t<k.length;t+=1){const e=k[t];w(e),T(e.$$)}for(w(null),k.length=0;C.length;)C.pop()();for(let t=0;t<j.length;t+=1){const e=j[t];R.has(e)||(R.add(e),e())}j.length=0}while(k.length);for(;L.length;)L.pop()();U=!1,I=!1,R.clear()}}function T(t){if(null!==t.fragment){t.update(),o(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(P)}}const M=new Set;let A;function D(){A={r:0,c:[],p:A}}function O(){A.r||o(A.c),A=A.p}function z(t,e){t&&t.i&&(M.delete(t),t.i(e))}function H(t,e,n,o){if(t&&t.o){if(M.has(t))return;M.add(t),A.c.push((()=>{M.delete(t),o&&(n&&t.d(1),o())})),t.o(e)}}function N(t){t&&t.c()}function V(t,n,l){const{fragment:c,on_mount:r,on_destroy:s,after_update:a}=t.$$;c&&c.m(n,l),P((()=>{const n=r.map(e).filter(i);s?s.push(...n):o(n),t.$$.on_mount=[]})),a.forEach(P)}function q(t,e){const n=t.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function B(t,e){-1===t.$$.dirty[0]&&(k.push(t),U||(U=!0,S.then(E)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function W(e,i,l,c,r,s,a=[-1]){const u=y;w(e);const d=i.props||{},p=e.$$={fragment:null,ctx:null,props:s,update:t,not_equal:r,bound:n(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(u?u.$$.context:[]),callbacks:n(),dirty:a,skip_bound:!1};let g=!1;if(p.ctx=l?l(e,d,((t,n,...o)=>{const i=o.length?o[0]:n;return p.ctx&&r(p.ctx[t],p.ctx[t]=i)&&(!p.skip_bound&&p.bound[t]&&p.bound[t](i),g&&B(e,t)),n})):[],p.update(),g=!0,o(p.before_update),p.fragment=!!c&&c(p.ctx),i.target){if(i.hydrate){const t=function(t){return Array.from(t.childNodes)}(i.target);p.fragment&&p.fragment.l(t),t.forEach(f)}else p.fragment&&p.fragment.c();i.intro&&z(e.$$.fragment),V(e,i.target,i.anchor),E()}w(u)}class F{$destroy(){q(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const Y=t=>({}),G=t=>({class:"body"});function J(t){let e,n,o,i,l,c,d,$,y,w,x;const _=t[4].default,k=function(t,e,n,o){if(t){const i=r(t,e,n,o);return t[0](i)}}(_,t,t[3],G);return{c(){e=p("main"),n=p("div"),o=p("p"),i=g(t[0]),l=m(),c=p("div"),d=p("div"),d.textContent="Remove",$=m(),k&&k.c(),v(o,"class","title svelte-3tm6xz"),v(d,"class","red svelte-3tm6xz"),v(c,"class","controls svelte-3tm6xz"),v(n,"class","header svelte-3tm6xz")},m(r,s){u(r,e,s),a(e,n),a(n,o),a(o,i),a(n,l),a(n,c),a(c,d),a(e,$),k&&k.m(e,null),y=!0,w||(x=h(d,"click",t[1]),w=!0)},p(t,[e]){(!y||1&e)&&b(i,t[0]),k&&k.p&&8&e&&s(k,_,t,t[3],e,Y,G)},i(t){y||(z(k,t),y=!0)},o(t){H(k,t),y=!1},d(t){t&&f(e),k&&k.d(t),w=!1,x()}}}function K(t,e,n){let{$$slots:o={},$$scope:i}=e;var{title:l=""}=e;let{cellid:c}=e;const r=_();return t.$$set=t=>{"title"in t&&n(0,l=t.title),"cellid"in t&&n(2,c=t.cellid),"$$scope"in t&&n(3,i=t.$$scope)},[l,function(){r("message",{remove:!0,id:c})},c,i,o]}class Q extends F{constructor(t){super(),W(this,t,K,J,l,{title:0,cellid:2})}}function X(e){let n;return{c(){n=p("p"),n.textContent="Click to add Icon"},m(t,e){u(t,n,e)},p:t,d(t){t&&f(n)}}}function Z(t){let e,n;return{c(){e=p("img"),e.src!==(n=t[0])&&v(e,"src",n),v(e,"alt","Click to add Icon"),v(e,"class","svelte-19f6e1e")},m(t,n){u(t,e,n)},p(t,o){1&o&&e.src!==(n=t[0])&&v(e,"src",n)},d(t){t&&f(e)}}}function tt(e){let n,i,l,c,r,s,d;function g(t,e){return""!=t[0]?Z:X}let b=g(e),$=b(e);return{c(){var t,o,s;n=p("main"),i=p("div"),l=p("input"),r=m(),$.c(),v(l,"type","file"),v(l,"accept","image/*"),v(l,"name",c="icon["+e[1]+"]"),t="display",o="none",l.style.setProperty(t,o,s?"important":""),l.required=!0,v(i,"class","icon svelte-19f6e1e")},m(t,o){u(t,n,o),a(n,i),a(i,l),e[5](l),a(i,r),$.m(i,null),s||(d=[h(l,"change",e[4]),h(i,"click",e[3])],s=!0)},p(t,[e]){2&e&&c!==(c="icon["+t[1]+"]")&&v(l,"name",c),b===(b=g(t))&&$?$.p(t,e):($.d(1),$=b(t),$&&($.c(),$.m(i,null)))},i:t,o:t,d(t){t&&f(n),e[5](null),$.d(),s=!1,o(d)}}}function et(t,e,n){let o,{icon:i=""}=e,{index:l}=e;const c=_();return t.$$set=t=>{"icon"in t&&n(0,i=t.icon),"index"in t&&n(1,l=t.index)},[i,l,o,function(){o.click()},function(){let t=o.files[0],e=new FileReader;e.onload=t=>{n(0,i=t.target.result),c("message",{icon:i,index:l})},e.readAsDataURL(t),console.log(i)},function(t){C[t?"unshift":"push"]((()=>{o=t,n(2,o)}))}]}class nt extends F{constructor(t){super(),W(this,t,et,tt,l,{icon:0,index:1})}}var ot="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),it=new Uint8Array(16);function lt(){if(!ot)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return ot(it)}var ct=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function rt(t){return"string"==typeof t&&ct.test(t)}for(var st=[],at=0;at<256;++at)st.push((at+256).toString(16).substr(1));function ut(t,e,n){var o=(t=t||{}).random||(t.rng||lt)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,e){n=n||0;for(var i=0;i<16;++i)e[n+i]=o[i];return e}return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(st[t[e+0]]+st[t[e+1]]+st[t[e+2]]+st[t[e+3]]+"-"+st[t[e+4]]+st[t[e+5]]+"-"+st[t[e+6]]+st[t[e+7]]+"-"+st[t[e+8]]+st[t[e+9]]+"-"+st[t[e+10]]+st[t[e+11]]+st[t[e+12]]+st[t[e+13]]+st[t[e+14]]+st[t[e+15]]).toLowerCase();if(!rt(n))throw TypeError("Stringified UUID is invalid");return n}(o)}const{parse:ft,build:dt}=globalThis.plist;class pt{constructor(t){this.config_name="",this.config_author="",this.webclips=[],this.id=t||this.genString()}async loadIcon(t){if(void 0===this.webclips[t])throw 404;const e=this.webclips[t],n=await fetch(e.iconurl).then((t=>t.arrayBuffer()));return this.webclips[t].icon=new Uint8Array(n),this.webclips[t].icon}load(t){const e=ft(t);this.config_name=e.PayloadDisplayName,this.config_author=e.PayloadOrganization;for(const t of e.PayloadContent){console.log(t.Icon);const e=new Blob([t.Icon],{type:"image/png"}),n=URL.createObjectURL(e);console.log(t),this.webclips=[...this.webclips,{name:t.Label,icon:t.Icon,iconurl:n,url:t.URL}]}return this}compile(){const t=ut().toUpperCase(),e=[];if(void 0!==this.webclips&&this.webclips.length>0)for(const t of this.webclips){if(null===t.icon)continue;const n=ut().toUpperCase();e.push({FullScreen:!0,Icon:t.icon,IsRemovable:!0,Label:t.name,PayloadDescription:"Web app bundled into a config, generated by @S0n1c_Dev",PayloadIdentifier:`com.apple.webClip.managed.${n}`,PayloadType:"com.apple.webClip.managed",PayloadUUID:n,PayloadVersion:1,Precomposed:!0,URL:t.url})}const n={PayloadContent:e,PayloadDescription:"This config was generated via WebClip Maker by @S0n1c_Dev.",PayloadDisplayName:this.config_name,PayloadIdentifier:`ca.s0n1c.ios.webclip.${t}`,PayloadOrganization:this.config_author,PayloadRemovalDisallowed:!1,PayloadType:"Configuration",PayloadUUID:t,PayloadVersion:1};let o;try{o=dt(n)}catch(t){throw console.log(t),t}return console.log(o),o}genString(t=10){for(var e="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",o=n.length,i=0;i<t;i++)e+=n.charAt(Math.floor(Math.random()*o));return e}async save(){console.log(this);const t=this.compile();localStorage.setItem(`mconfig-${this.id}`,t)}}const gt=[];const mt=function(e,n=t){let o;const i=[];function c(t){if(l(e,t)&&(e=t,o)){const t=!gt.length;for(let t=0;t<i.length;t+=1){const n=i[t];n[1](),gt.push(n,e)}if(t){for(let t=0;t<gt.length;t+=2)gt[t][0](gt[t+1]);gt.length=0}}}return{set:c,update:function(t){c(t(e))},subscribe:function(l,r=t){const s=[l,r];return i.push(s),1===i.length&&(o=n(c)||t),l(e),()=>{const t=i.indexOf(s);-1!==t&&i.splice(t,1),0===i.length&&(o(),o=null)}}}}(function(){const t=[],e=Object.keys(localStorage).filter((t=>t.startsWith("mconfig-")));if(e.length>0)for(const n of e){const e=localStorage.getItem(n),o=n.split("mconfig-")[1],i=new pt(o);i.load(e),t.push(i)}return t}());function ht(t,e,n){const o=t.slice();return o[14]=e[n],o[15]=e,o[16]=n,o}function vt(t){let e,n,i,l,c,r,s,a,d,g,b;function y(){t[8].call(e,t[16])}function w(e){t[9].call(null,e,t[16])}let x={index:t[16]};function _(){t[10].call(s,t[16])}return void 0!==t[0].webclips[t[16]].iconurl&&(x.icon=t[0].webclips[t[16]].iconurl),l=new nt({props:x}),C.push((()=>function(t,e,n){const o=t.$$.props[e];void 0!==o&&(t.$$.bound[o]=n,n(t.$$.ctx[o]))}(l,"icon",w))),l.$on("message",t[2]),{c(){e=p("input"),i=m(),N(l.$$.fragment),r=m(),s=p("input"),v(e,"type","text"),v(e,"name",n="name["+t[16]+"]"),v(e,"placeholder","Name"),e.required=!0,v(s,"type","url"),v(s,"name",a="url["+t[16]+"]"),v(s,"placeholder","URL"),s.required=!0},m(n,o){u(n,e,o),$(e,t[0].webclips[t[16]].name),u(n,i,o),V(l,n,o),u(n,r,o),u(n,s,o),$(s,t[0].webclips[t[16]].url),d=!0,g||(b=[h(e,"input",y),h(s,"input",_)],g=!0)},p(n,o){t=n,1&o&&e.value!==t[0].webclips[t[16]].name&&$(e,t[0].webclips[t[16]].name);const i={};var r;!c&&1&o&&(c=!0,i.icon=t[0].webclips[t[16]].iconurl,r=()=>c=!1,L.push(r)),l.$set(i),1&o&&$(s,t[0].webclips[t[16]].url)},i(t){d||(z(l.$$.fragment,t),d=!0)},o(t){H(l.$$.fragment,t),d=!1},d(t){t&&f(e),t&&f(i),q(l,t),t&&f(r),t&&f(s),g=!1,o(b)}}}function bt(t){let e,n,o;return n=new Q({props:{title:"Web App Settings",cellid:t[16],$$slots:{default:[vt]},$$scope:{ctx:t}}}),n.$on("message",t[4]),{c(){e=p("div"),N(n.$$.fragment),v(e,"class","formgroup")},m(t,i){u(t,e,i),V(n,e,null),o=!0},p(t,e){const o={};131073&e&&(o.$$scope={dirty:e,ctx:t}),n.$set(o)},i(t){o||(z(n.$$.fragment,t),o=!0)},o(t){H(n.$$.fragment,t),o=!1},d(t){t&&f(e),q(n)}}}function $t(t){let e,n,i,l,c,r,s,g,b,y,w,x,_,k,C,j=t[1],L=[];for(let e=0;e<j.length;e+=1)L[e]=bt(ht(t,j,e));const S=t=>H(L[t],1,1,(()=>{L[t]=null}));return{c(){e=p("main"),n=p("form"),i=p("div"),l=p("input"),c=m(),r=p("input"),s=m();for(let t=0;t<L.length;t+=1)L[t].c();g=m(),b=p("div"),b.innerHTML='<i class="fas fa-plus"></i>',y=m(),w=p("br"),x=p("br"),v(l,"type","text"),v(l,"name","config_name"),v(l,"placeholder","Profile Name"),l.required=!0,v(r,"type","text"),v(r,"name","config_author"),v(r,"placeholder","Profile Author"),r.required=!0,v(i,"class","formgroup"),v(b,"class","button svelte-1oy70ja"),v(n,"enctype","multipart/form-data"),v(e,"class","svelte-1oy70ja")},m(o,f){u(o,e,f),a(e,n),a(n,i),a(i,l),$(l,t[0].config_name),a(i,c),a(i,r),$(r,t[0].config_author),a(n,s);for(let t=0;t<L.length;t+=1)L[t].m(n,null);a(n,g),a(n,b),a(n,y),a(n,w),a(n,x),_=!0,k||(C=[h(l,"input",t[6]),h(r,"input",t[7]),h(b,"click",t[3])],k=!0)},p(t,[e]){if(1&e&&l.value!==t[0].config_name&&$(l,t[0].config_name),1&e&&r.value!==t[0].config_author&&$(r,t[0].config_author),23&e){let o;for(j=t[1],o=0;o<j.length;o+=1){const i=ht(t,j,o);L[o]?(L[o].p(i,e),z(L[o],1)):(L[o]=bt(i),L[o].c(),z(L[o],1),L[o].m(n,g))}for(D(),o=j.length;o<L.length;o+=1)S(o);O()}},i(t){if(!_){for(let t=0;t<j.length;t+=1)z(L[t]);_=!0}},o(t){L=L.filter(Boolean);for(let t=0;t<L.length;t+=1)H(L[t]);_=!1},d(t){t&&f(e),d(L,t),k=!1,o(C)}}}function yt(t,e,n){let o;c(t,mt,(t=>n(11,o=t)));let i,{id:l}=e,r=o.find((t=>t.id==l));return globalThis.config=r,t.$$set=t=>{"id"in t&&n(5,l=t.id)},t.$$.update=()=>{1&t.$$.dirty&&n(1,i=r.webclips)},[r,i,function(t){if("string"!=typeof t.detail.icon||"number"!=typeof t.detail.index)return!1;r.loadIcon(t.detail.index)},function(){n(0,r.webclips=[...r.webclips,{name:"",icon:null,iconurl:"",url:""}],r)},function(t){console.log(t),"boolean"==typeof t.detail.remove&&t.detail.remove&&(console.log(`removing payload ${t.detail.id}`,t.detail,r.webclips[t.detail.id]),function(t){let e=[...r.webclips];e.splice(t,1),n(0,r.webclips=[...e],r)}(t.detail.id))},l,function(){r.config_name=this.value,n(0,r)},function(){r.config_author=this.value,n(0,r)},function(t){r.webclips[t].name=this.value,n(0,r)},function(t,e){r.webclips[e].iconurl=t,n(0,r)},function(t){r.webclips[t].url=this.value,n(0,r)}]}class wt extends F{constructor(t){super(),W(this,t,yt,$t,l,{id:5})}}function xt(t,e,n){const o=t.slice();return o[20]=e[n],o}function _t(t){let e;return{c(){e=p("p"),e.textContent="You don't seem to have any saved web app profiles... Make one above!"},m(t,n){u(t,e,n)},d(t){t&&f(e)}}}function kt(t){let e,n,i,l,c,r,s,d,$,y,w,x,_,k,C,j,L,S,U,P,I,R,E,T,M,A,D,O,z=(t[20].config_name||"Untitled Config")+"",H=t[20].webclips.length+"";return{c(){e=p("div"),n=p("div"),i=p("p"),l=g(z),c=m(),r=p("p"),s=g("Web App count: "),d=g(H),$=m(),y=p("div"),w=p("div"),x=p("i"),k=m(),C=p("div"),j=p("i"),S=m(),U=p("div"),P=p("i"),R=m(),E=p("div"),T=p("i"),A=m(),v(n,"class","info svelte-1gjg7g3"),v(x,"class","fas fa-mobile"),v(w,"class","blue svelte-1gjg7g3"),v(w,"id",_=t[20].id),v(j,"class","fas fa-long-arrow-alt-down"),v(C,"class","blue svelte-1gjg7g3"),v(C,"id",L=t[20].id),v(P,"class","far fa-edit"),v(U,"class","blue svelte-1gjg7g3"),v(U,"id",I=t[20].id),v(T,"class","fas fa-trash"),v(E,"class","red svelte-1gjg7g3"),v(E,"id",M=t[20].id),v(y,"class","buttons svelte-1gjg7g3"),v(e,"class","cell svelte-1gjg7g3")},m(o,f){u(o,e,f),a(e,n),a(n,i),a(i,l),a(n,c),a(n,r),a(r,s),a(r,d),a(e,$),a(e,y),a(y,w),a(w,x),a(y,k),a(y,C),a(C,j),a(y,S),a(y,U),a(U,P),a(y,R),a(y,E),a(E,T),a(e,A),D||(O=[h(w,"click",t[10]),h(C,"click",t[9]),h(U,"click",t[7]),h(E,"click",t[11])],D=!0)},p(t,e){2&e&&z!==(z=(t[20].config_name||"Untitled Config")+"")&&b(l,z),2&e&&H!==(H=t[20].webclips.length+"")&&b(d,H),2&e&&_!==(_=t[20].id)&&v(w,"id",_),2&e&&L!==(L=t[20].id)&&v(C,"id",L),2&e&&I!==(I=t[20].id)&&v(U,"id",I),2&e&&M!==(M=t[20].id)&&v(E,"id",M)},d(t){t&&f(e),D=!1,o(O)}}}function Ct(t){let e,n,i,l,c,r,s,d,g,b,$,y,w,x,_;return y=new wt({props:{id:t[0].id}}),{c(){e=p("div"),n=m(),i=p("div"),l=p("div"),c=p("div"),c.textContent="Config Settings",r=m(),s=p("div"),d=p("div"),d.innerHTML='<i class="far fa-save"></i>',g=m(),b=p("div"),b.innerHTML='<i class="fas fa-times"></i>',$=m(),N(y.$$.fragment),v(e,"class","modal-overlay svelte-1gjg7g3"),v(c,"class","title svelte-1gjg7g3"),v(d,"class","blue svelte-1gjg7g3"),v(b,"class","red svelte-1gjg7g3"),v(s,"class","buttons svelte-1gjg7g3"),v(l,"class","header svelte-1gjg7g3"),v(i,"class","modal show svelte-1gjg7g3")},m(o,f){u(o,e,f),u(o,n,f),u(o,i,f),a(i,l),a(l,c),a(l,r),a(l,s),a(s,d),t[15](d),a(s,g),a(s,b),a(i,$),V(y,i,null),w=!0,x||(_=[h(e,"click",t[6]),h(d,"click",t[8]),h(b,"click",t[6])],x=!0)},p(t,e){const n={};1&e&&(n.id=t[0].id),y.$set(n)},i(t){w||(z(y.$$.fragment,t),w=!0)},o(t){H(y.$$.fragment,t),w=!1},d(l){l&&f(e),l&&f(n),l&&f(i),t[15](null),q(y),x=!1,o(_)}}}function jt(t){let e,n,i,l,c,r,s,g,b,$,y,w,x,_,k,C,j=t[1],L=[];for(let e=0;e<j.length;e+=1)L[e]=kt(xt(t,j,e));let S=null;j.length||(S=_t());let U=t[2]&&Ct(t);return{c(){e=p("main"),n=p("section"),n.innerHTML="<h1>Webclip Maker</h1>",i=m(),l=p("section"),c=p("input"),r=m(),s=p("div"),s.textContent="Create",g=m(),b=p("div"),b.textContent="Import",$=m(),y=p("h3"),y.textContent="Saved Configurations",w=m();for(let t=0;t<L.length;t+=1)L[t].c();S&&S.c(),x=m(),U&&U.c(),v(n,"class","header svelte-1gjg7g3"),v(c,"type","file"),v(c,"accept",".mobileconfig"),c.hidden=!0,v(s,"class","button svelte-1gjg7g3"),v(b,"class","button svelte-1gjg7g3"),v(l,"class","svelte-1gjg7g3")},m(o,f){u(o,e,f),a(e,n),a(e,i),a(e,l),a(l,c),t[14](c),a(l,r),a(l,s),a(l,g),a(l,b),a(l,$),a(l,y),a(l,w);for(let t=0;t<L.length;t+=1)L[t].m(l,null);S&&S.m(l,null),a(e,x),U&&U.m(e,null),_=!0,k||(C=[h(c,"change",t[12]),h(s,"click",t[5]),h(b,"click",t[13])],k=!0)},p(t,[n]){if(3714&n){let e;for(j=t[1],e=0;e<j.length;e+=1){const o=xt(t,j,e);L[e]?L[e].p(o,n):(L[e]=kt(o),L[e].c(),L[e].m(l,null))}for(;e<L.length;e+=1)L[e].d(1);L.length=j.length,j.length?S&&(S.d(1),S=null):S||(S=_t(),S.c(),S.m(l,null))}t[2]?U?(U.p(t,n),4&n&&z(U,1)):(U=Ct(t),U.c(),z(U,1),U.m(e,null)):U&&(D(),H(U,1,1,(()=>{U=null})),O())},i(t){_||(z(U),_=!0)},o(t){H(U),_=!1},d(n){n&&f(e),t[14](null),d(L,n),S&&S.d(),U&&U.d(),k=!1,o(C)}}}function Lt(t,e,n){let o;var i;let l;c(t,mt,(t=>n(16,o=t))),i=()=>{console.log(o)},x().$$.on_mount.push(i);let r,s,a=o,u=!1;function f(t){let e=[];for(let n of o)n.id==t&&e.push(n);return e[0]}function d(t){let e=t.target;return 0==e.id.length&&e.parentElement.id.length>0&&(e=e.parentElement),f([...e.attributes].find((t=>"id"==t.name)).value)}return[l,a,u,r,s,function(){const t=new pt;o.push(t),t.save(),n(1,a=[...o]),n(0,l=t),n(2,u=!0)},function(){n(0,l=void 0),n(2,u=!1)},function(t){let e=t.target;0==e.id.length&&e.parentElement.id.length>0&&(e=e.parentElement);let o=f([...e.attributes].find((t=>"id"==t.name)).value);console.log(o),n(0,l=o),n(2,u=!0)},function(){if(void 0===l)return;n(3,r.innerHTML="Saving...",r);let t=l.id;for(let e of o)e.id==t&&e.save();n(3,r.innerHTML="Saved!",r),n(1,a=[...o]),setTimeout((()=>n(3,r.innerHTML='<i class="far fa-save"></i>',r)),1e3)},function(t){let e=d(t).compile(),n=new Blob([e],{type:"application/xml"}),o=URL.createObjectURL(n);window.open(o,"_blank")},function(t){let e=d(t);console.log(e);let n=e.compile(),o=new Blob([n],{type:"application/x-apple-aspen-config"}),i=URL.createObjectURL(o);window.open(i,"_blank")},function(t){let e=d(t);confirm(`Are you sure you would like to remove the Config "${e.config_name}"? This action cannot be undone`)&&(console.log(e),o.splice(o.findIndex((t=>t.id==e.id)),1),function(t){if(void 0===localStorage[`mconfig-${t}`])throw 404;localStorage.removeItem(`mconfig-${t}`)}(e.id),n(1,a=[...o]))},async function(){let t,e=s.files[0],i=new FileReader;i.onload=async e=>{t=e.target.result;let i=function(t=10){for(var e="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",o=n.length,i=0;i<t;i++)e+=n.charAt(Math.floor(Math.random()*o));return e}(),l=await(await fetch(t)).text();localStorage.setItem(`mconfig-${i}`,l);let c=function(t){if(void 0===localStorage[`mconfig-${t}`])throw 404;let e=new pt(t);return e.load(localStorage.getItem(`mconfig-${t}`)),o.push(e),n(1,a=[...o]),e}(i);console.log(c)},i.readAsDataURL(e)},function(){s.click()},function(t){C[t?"unshift":"push"]((()=>{s=t,n(4,s)}))},function(t){C[t?"unshift":"push"]((()=>{r=t,n(3,r)}))}]}return new class extends F{constructor(t){super(),W(this,t,Lt,jt,l,{})}}({target:document.body,props:{}})}();
//# sourceMappingURL=bundle.js.map
