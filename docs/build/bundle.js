var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function o(t){t.forEach(e)}function i(t){return"function"==typeof t}function l(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function c(e,n,o){e.$$.on_destroy.push(function(e,...n){if(null==e)return t;const o=e.subscribe(...n);return o.unsubscribe?()=>o.unsubscribe():o}(n,o))}function r(t,e,n,o){return t[1]&&o?function(t,e){for(const n in e)t[n]=e[n];return t}(n.ctx.slice(),t[1](o(e))):n.ctx}function s(t,e,n,o,i,l,c){const s=function(t,e,n,o){if(t[2]&&o){const i=t[2](o(n));if(void 0===e.dirty)return i;if("object"==typeof i){const t=[],n=Math.max(e.dirty.length,i.length);for(let o=0;o<n;o+=1)t[o]=e.dirty[o]|i[o];return t}return e.dirty|i}return e.dirty}(e,o,i,l);if(s){const i=r(e,n,o,c);t.p(i,s)}}function a(t,e){t.appendChild(e)}function u(t,e,n){t.insertBefore(e,n||null)}function f(t){t.parentNode.removeChild(t)}function d(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function p(t){return document.createElement(t)}function g(t){return document.createTextNode(t)}function h(){return g(" ")}function m(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function b(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function v(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function $(t,e){t.value=null==e?"":e}let y;function w(t){y=t}function x(){if(!y)throw new Error("Function called outside component initialization");return y}function _(){const t=x();return(e,n)=>{const o=t.$$.callbacks[e];if(o){const i=function(t,e){const n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!1,!1,e),n}(e,n);o.slice().forEach((e=>{e.call(t,i)}))}}}const C=[],k=[],q=[],P=[],S=Promise.resolve();let U=!1;function L(t){q.push(t)}let R=!1;const E=new Set;function I(){if(!R){R=!0;do{for(let t=0;t<C.length;t+=1){const e=C[t];w(e),A(e.$$)}for(w(null),C.length=0;k.length;)k.pop()();for(let t=0;t<q.length;t+=1){const e=q[t];E.has(e)||(E.add(e),e())}q.length=0}while(C.length);for(;P.length;)P.pop()();U=!1,R=!1,E.clear()}}function A(t){if(null!==t.fragment){t.update(),o(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(L)}}const T=new Set;let D;function M(){D={r:0,c:[],p:D}}function j(){D.r||o(D.c),D=D.p}function O(t,e){t&&t.i&&(T.delete(t),t.i(e))}function N(t,e,n,o){if(t&&t.o){if(T.has(t))return;T.add(t),D.c.push((()=>{T.delete(t),o&&(n&&t.d(1),o())})),t.o(e)}}function V(t){t&&t.c()}function B(t,n,l){const{fragment:c,on_mount:r,on_destroy:s,after_update:a}=t.$$;c&&c.m(n,l),L((()=>{const n=r.map(e).filter(i);s?s.push(...n):o(n),t.$$.on_mount=[]})),a.forEach(L)}function W(t,e){const n=t.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function H(t,e){-1===t.$$.dirty[0]&&(C.push(t),U||(U=!0,S.then(I)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function z(e,i,l,c,r,s,a=[-1]){const u=y;w(e);const d=i.props||{},p=e.$$={fragment:null,ctx:null,props:s,update:t,not_equal:r,bound:n(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(u?u.$$.context:[]),callbacks:n(),dirty:a,skip_bound:!1};let g=!1;if(p.ctx=l?l(e,d,((t,n,...o)=>{const i=o.length?o[0]:n;return p.ctx&&r(p.ctx[t],p.ctx[t]=i)&&(!p.skip_bound&&p.bound[t]&&p.bound[t](i),g&&H(e,t)),n})):[],p.update(),g=!0,o(p.before_update),p.fragment=!!c&&c(p.ctx),i.target){if(i.hydrate){const t=function(t){return Array.from(t.childNodes)}(i.target);p.fragment&&p.fragment.l(t),t.forEach(f)}else p.fragment&&p.fragment.c();i.intro&&O(e.$$.fragment),B(e,i.target,i.anchor),I()}w(u)}class F{$destroy(){W(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const Y=t=>({}),G=t=>({class:"body"});function J(t){let e,n,o,i,l,c,d,$,y,w,x;const _=t[4].default,C=function(t,e,n,o){if(t){const i=r(t,e,n,o);return t[0](i)}}(_,t,t[3],G);return{c(){e=p("main"),n=p("div"),o=p("h3"),i=g(t[0]),l=h(),c=p("div"),d=p("div"),d.textContent="Remove",$=h(),C&&C.c(),b(d,"class","red svelte-107lul"),b(c,"class","controls svelte-107lul"),b(n,"class","header svelte-107lul")},m(r,s){u(r,e,s),a(e,n),a(n,o),a(o,i),a(n,l),a(n,c),a(c,d),a(e,$),C&&C.m(e,null),y=!0,w||(x=m(d,"click",t[1]),w=!0)},p(t,[e]){(!y||1&e)&&v(i,t[0]),C&&C.p&&8&e&&s(C,_,t,t[3],e,Y,G)},i(t){y||(O(C,t),y=!0)},o(t){N(C,t),y=!1},d(t){t&&f(e),C&&C.d(t),w=!1,x()}}}function K(t,e,n){let{$$slots:o={},$$scope:i}=e;var{title:l=""}=e;let{cellid:c}=e;const r=_();return t.$$set=t=>{"title"in t&&n(0,l=t.title),"cellid"in t&&n(2,c=t.cellid),"$$scope"in t&&n(3,i=t.$$scope)},[l,function(){r("message",{remove:!0,id:c})},c,i,o]}class Q extends F{constructor(t){super(),z(this,t,K,J,l,{title:0,cellid:2})}}function X(e){let n,i,l,c,r,s,d,g,v;return{c(){var t,o,a;n=p("main"),i=p("div"),l=p("input"),r=h(),s=p("img"),b(l,"type","file"),b(l,"name",c="icon["+e[1]+"]"),t="display",o="none",l.style.setProperty(t,o,a?"important":""),l.required=!0,s.src!==(d=e[0])&&b(s,"src",d),b(s,"alt","Click to add Icon"),b(s,"class","svelte-1qmhx7o"),b(i,"class","icon svelte-1qmhx7o")},m(t,o){u(t,n,o),a(n,i),a(i,l),e[5](l),a(i,r),a(i,s),g||(v=[m(l,"change",e[4]),m(i,"click",e[3])],g=!0)},p(t,[e]){2&e&&c!==(c="icon["+t[1]+"]")&&b(l,"name",c),1&e&&s.src!==(d=t[0])&&b(s,"src",d)},i:t,o:t,d(t){t&&f(n),e[5](null),g=!1,o(v)}}}function Z(t,e,n){let o,{icon:i=""}=e,{index:l}=e;const c=_();return t.$$set=t=>{"icon"in t&&n(0,i=t.icon),"index"in t&&n(1,l=t.index)},[i,l,o,function(){o.click()},function(){let t=o.files[0],e=new FileReader;e.onload=t=>{n(0,i=t.target.result),c("message",{icon:i,index:l})},e.readAsDataURL(t),console.log(i)},function(t){k[t?"unshift":"push"]((()=>{o=t,n(2,o)}))}]}class tt extends F{constructor(t){super(),z(this,t,Z,X,l,{icon:0,index:1})}}var et="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),nt=new Uint8Array(16);function ot(){if(!et)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return et(nt)}var it=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function lt(t){return"string"==typeof t&&it.test(t)}for(var ct=[],rt=0;rt<256;++rt)ct.push((rt+256).toString(16).substr(1));function st(t,e,n){var o=(t=t||{}).random||(t.rng||ot)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,e){n=n||0;for(var i=0;i<16;++i)e[n+i]=o[i];return e}return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(ct[t[e+0]]+ct[t[e+1]]+ct[t[e+2]]+ct[t[e+3]]+"-"+ct[t[e+4]]+ct[t[e+5]]+"-"+ct[t[e+6]]+ct[t[e+7]]+"-"+ct[t[e+8]]+ct[t[e+9]]+"-"+ct[t[e+10]]+ct[t[e+11]]+ct[t[e+12]]+ct[t[e+13]]+ct[t[e+14]]+ct[t[e+15]]).toLowerCase();if(!lt(n))throw TypeError("Stringified UUID is invalid");return n}(o)}const{parse:at,build:ut}=globalThis.plist;class ft{constructor(t){this.config_name="Config Name",this.config_author="Unknown",this.webclips=[],this.id=t||this.genString()}async loadIcon(t){if(void 0===this.webclips[t])throw 404;const e=this.webclips[t],n=await fetch(e.iconurl).then((t=>t.arrayBuffer()));return this.webclips[t].icon=new Uint8Array(n),this.webclips[t].icon}load(t){const e=at(t);this.config_name=e.PayloadDisplayName,this.config_author=e.PayloadOrganization;for(const t of e.PayloadContent){console.log(t.Icon);const e=new Blob([t.Icon],{type:"image/png"}),n=URL.createObjectURL(e);console.log(t),this.webclips=[...this.webclips,{name:t.Label,icon:t.Icon,iconurl:n,url:t.URL}]}return this}compile(){const t=st().toUpperCase(),e=[];if(void 0!==this.webclips&&this.webclips.length>0)for(const t of this.webclips){if(null===t.icon)continue;const n=st().toUpperCase();e.push({FullScreen:!0,Icon:t.icon,IsRemovable:!0,Label:t.name,PayloadDescription:"Web app bundled into a config, generated by @S0n1c_Dev",PayloadIdentifier:`com.apple.webClip.managed.${n}`,PayloadType:"com.apple.webClip.managed",PayloadUUID:n,PayloadVersion:1,Precomposed:!0,URL:t.url})}const n={PayloadContent:e,PayloadDescription:"This config was generated via WebClip Maker by @S0n1c_Dev.",PayloadDisplayName:this.config_name,PayloadIdentifier:`ca.s0n1c.ios.webclip.${t}`,PayloadOrganization:this.config_author,PayloadRemovalDisallowed:!1,PayloadType:"Configuration",PayloadUUID:t,PayloadVersion:1};let o;try{o=ut(n)}catch(t){throw console.log(t),t}return console.log(o),o}genString(t=10){for(var e="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",o=n.length,i=0;i<t;i++)e+=n.charAt(Math.floor(Math.random()*o));return e}async save(){console.log(this);const t=this.compile();localStorage.setItem(`mconfig-${this.id}`,t)}}const dt=[];const pt=function(e,n=t){let o;const i=[];function c(t){if(l(e,t)&&(e=t,o)){const t=!dt.length;for(let t=0;t<i.length;t+=1){const n=i[t];n[1](),dt.push(n,e)}if(t){for(let t=0;t<dt.length;t+=2)dt[t][0](dt[t+1]);dt.length=0}}}return{set:c,update:function(t){c(t(e))},subscribe:function(l,r=t){const s=[l,r];return i.push(s),1===i.length&&(o=n(c)||t),l(e),()=>{const t=i.indexOf(s);-1!==t&&i.splice(t,1),0===i.length&&(o(),o=null)}}}}(function(){const t=[],e=Object.keys(localStorage).filter((t=>t.startsWith("mconfig-")));if(e.length>0)for(const n of e){const e=localStorage.getItem(n),o=n.split("mconfig-")[1],i=new ft(o);i.load(e),t.push(i)}return t}());function gt(t,e,n){const o=t.slice();return o[16]=e[n],o[17]=e,o[18]=n,o}function ht(t){let e,n,i,l,c,r,s,a,d,g,v;function y(){t[9].call(e,t[18])}function w(e){t[10].call(null,e,t[18])}let x={index:t[18]};function _(){t[11].call(s,t[18])}return void 0!==t[0].webclips[t[18]].iconurl&&(x.icon=t[0].webclips[t[18]].iconurl),l=new tt({props:x}),k.push((()=>function(t,e,n){const o=t.$$.props[e];void 0!==o&&(t.$$.bound[o]=n,n(t.$$.ctx[o]))}(l,"icon",w))),l.$on("message",t[3]),{c(){e=p("input"),i=h(),V(l.$$.fragment),r=h(),s=p("input"),b(e,"type","text"),b(e,"name",n="name["+t[18]+"]"),b(e,"placeholder","Name"),e.required=!0,b(s,"type","url"),b(s,"name",a="url["+t[18]+"]"),b(s,"placeholder","URL"),s.required=!0},m(n,o){u(n,e,o),$(e,t[0].webclips[t[18]].name),u(n,i,o),B(l,n,o),u(n,r,o),u(n,s,o),$(s,t[0].webclips[t[18]].url),d=!0,g||(v=[m(e,"input",y),m(s,"input",_)],g=!0)},p(n,o){t=n,1&o&&e.value!==t[0].webclips[t[18]].name&&$(e,t[0].webclips[t[18]].name);const i={};var r;!c&&1&o&&(c=!0,i.icon=t[0].webclips[t[18]].iconurl,r=()=>c=!1,P.push(r)),l.$set(i),1&o&&$(s,t[0].webclips[t[18]].url)},i(t){d||(O(l.$$.fragment,t),d=!0)},o(t){N(l.$$.fragment,t),d=!1},d(t){t&&f(e),t&&f(i),W(l,t),t&&f(r),t&&f(s),g=!1,o(v)}}}function mt(t){let e,n,o;return n=new Q({props:{title:"Web App Settings",cellid:t[18],$$slots:{default:[ht]},$$scope:{ctx:t}}}),n.$on("message",t[5]),{c(){e=p("div"),V(n.$$.fragment),b(e,"class","formgroup")},m(t,i){u(t,e,i),B(n,e,null),o=!0},p(t,e){const o={};524289&e&&(o.$$scope={dirty:e,ctx:t}),n.$set(o)},i(t){o||(O(n.$$.fragment,t),o=!0)},o(t){N(n.$$.fragment,t),o=!1},d(t){t&&f(e),W(n)}}}function bt(t){let e,n,i,l,c,r,s,g,v,y,w,x,_,C,k,q,P,S,U=t[1],L=[];for(let e=0;e<U.length;e+=1)L[e]=mt(gt(t,U,e));const R=t=>N(L[t],1,1,(()=>{L[t]=null}));return{c(){e=p("main"),n=p("form"),i=p("div"),l=p("h3"),l.textContent="Config Settings",c=h(),r=p("input"),s=h(),g=p("input"),v=h();for(let t=0;t<L.length;t+=1)L[t].c();y=h(),w=p("div"),w.textContent="Add App",x=h(),_=p("br"),C=p("br"),k=h(),b(r,"type","text"),b(r,"name","config_name"),b(r,"placeholder","Profile Name"),r.required=!0,b(g,"type","text"),b(g,"name","config_author"),b(g,"placeholder","Profile Author"),g.required=!0,b(i,"class","formgroup"),b(w,"class","button svelte-1lwujg1"),b(n,"enctype","multipart/form-data")},m(o,f){u(o,e,f),a(e,n),a(n,i),a(i,l),a(i,c),a(i,r),$(r,t[0].config_name),a(i,s),a(i,g),$(g,t[0].config_author),a(n,v);for(let t=0;t<L.length;t+=1)L[t].m(n,null);a(n,y),a(n,w),a(n,x),a(n,_),a(n,C),a(n,k),q=!0,P||(S=[m(r,"input",t[7]),m(g,"input",t[8]),m(w,"click",t[4])],P=!0)},p(t,[e]){if(1&e&&r.value!==t[0].config_name&&$(r,t[0].config_name),1&e&&g.value!==t[0].config_author&&$(g,t[0].config_author),43&e){let o;for(U=t[1],o=0;o<U.length;o+=1){const i=gt(t,U,o);L[o]?(L[o].p(i,e),O(L[o],1)):(L[o]=mt(i),L[o].c(),O(L[o],1),L[o].m(n,y))}for(M(),o=U.length;o<L.length;o+=1)R(o);j()}},i(t){if(!q){for(let t=0;t<U.length;t+=1)O(L[t]);q=!0}},o(t){L=L.filter(Boolean);for(let t=0;t<L.length;t+=1)N(L[t]);q=!1},d(t){t&&f(e),d(L,t),P=!1,o(S)}}}function vt(t,e,n){let o;c(t,pt,(t=>n(12,o=t)));let i,{id:l}=e,r=o.find((t=>t.id==l));return globalThis.config=r,t.$$set=t=>{"id"in t&&n(6,l=t.id)},t.$$.update=()=>{1&t.$$.dirty&&n(1,i=r.webclips)},[r,i,undefined,function(t){if("string"!=typeof t.detail.icon||"number"!=typeof t.detail.index)return!1;r.loadIcon(t.detail.index)},function(){n(0,r.webclips=[...r.webclips,{name:"",icon:null,iconurl:"",url:""}],r)},function(t){console.log(t),"boolean"==typeof t.detail.remove&&t.detail.remove&&(console.log(`removing payload ${t.detail.id}`,t.detail,r.webclips[t.detail.id]),function(t){let e=[...r.webclips];e.splice(t,1),n(0,r.webclips=[...e],r)}(t.detail.id))},l,function(){r.config_name=this.value,n(0,r)},function(){r.config_author=this.value,n(0,r)},function(t){r.webclips[t].name=this.value,n(0,r)},function(t,e){r.webclips[e].iconurl=t,n(0,r)},function(t){r.webclips[t].url=this.value,n(0,r)}]}class $t extends F{constructor(t){super(),z(this,t,vt,bt,l,{id:6})}}function yt(t,e,n){const o=t.slice();return o[15]=e[n],o}function wt(t){let e;return{c(){e=p("p"),e.textContent="You don't seem to have any saved web app profiles... Make one below!"},m(t,n){u(t,e,n)},d(t){t&&f(e)}}}function xt(t){let e,n,i,l,c,r,s,d,$,y,w,x,_,C,k,q,P,S,U,L,R,E,I,A,T,D,M,j,O=t[15].config_name+"",N=t[15].webclips.length+"";return{c(){e=p("div"),n=p("div"),i=p("p"),l=g(O),c=h(),r=p("p"),s=g("Web App count: "),d=g(N),$=h(),y=p("div"),w=p("div"),x=p("i"),C=h(),k=p("div"),q=p("i"),S=h(),U=p("div"),L=p("i"),E=h(),I=p("div"),A=p("i"),D=h(),b(n,"class","info svelte-l0qpl9"),b(x,"class","fas fa-mobile"),b(w,"class","blue svelte-l0qpl9"),b(w,"id",_=t[15].id),b(q,"class","fas fa-long-arrow-alt-down"),b(k,"class","blue svelte-l0qpl9"),b(k,"id",P=t[15].id),b(L,"class","far fa-edit"),b(U,"class","blue svelte-l0qpl9"),b(U,"id",R=t[15].id),b(A,"class","fas fa-trash"),b(I,"class","red svelte-l0qpl9"),b(I,"id",T=t[15].id),b(y,"class","buttons svelte-l0qpl9"),b(e,"class","cell svelte-l0qpl9")},m(o,f){u(o,e,f),a(e,n),a(n,i),a(i,l),a(n,c),a(n,r),a(r,s),a(r,d),a(e,$),a(e,y),a(y,w),a(w,x),a(y,C),a(y,k),a(k,q),a(y,S),a(y,U),a(U,L),a(y,E),a(y,I),a(I,A),a(e,D),M||(j=[m(w,"click",t[9]),m(k,"click",t[8]),m(U,"click",t[6]),m(I,"click",t[10])],M=!0)},p(t,e){2&e&&O!==(O=t[15].config_name+"")&&v(l,O),2&e&&N!==(N=t[15].webclips.length+"")&&v(d,N),2&e&&_!==(_=t[15].id)&&b(w,"id",_),2&e&&P!==(P=t[15].id)&&b(k,"id",P),2&e&&R!==(R=t[15].id)&&b(U,"id",R),2&e&&T!==(T=t[15].id)&&b(I,"id",T)},d(t){t&&f(e),M=!1,o(j)}}}function _t(t){let e,n,i,l,c,r,s,d,g,v,$,y;return g=new $t({props:{id:t[0].id}}),{c(){e=p("div"),n=h(),i=p("div"),l=p("div"),c=p("div"),c.textContent="Save Changes",r=h(),s=p("div"),s.textContent="âœ•",d=h(),V(g.$$.fragment),b(e,"class","modal-overlay svelte-l0qpl9"),b(c,"class","blue svelte-l0qpl9"),b(s,"class","red svelte-l0qpl9"),b(l,"class","buttons svelte-l0qpl9"),b(i,"class","modal show svelte-l0qpl9")},m(o,f){u(o,e,f),u(o,n,f),u(o,i,f),a(i,l),a(l,c),t[11](c),a(l,r),a(l,s),a(i,d),B(g,i,null),v=!0,$||(y=[m(e,"click",t[5]),m(c,"click",t[7]),m(s,"click",t[5])],$=!0)},p(t,e){const n={};1&e&&(n.id=t[0].id),g.$set(n)},i(t){v||(O(g.$$.fragment,t),v=!0)},o(t){N(g.$$.fragment,t),v=!1},d(l){l&&f(e),l&&f(n),l&&f(i),t[11](null),W(g),$=!1,o(y)}}}function Ct(t){let e,n,o,i,l,c,r,s,g,v,$,y,w=t[1],x=[];for(let e=0;e<w.length;e+=1)x[e]=xt(yt(t,w,e));let _=null;w.length||(_=wt());let C=t[2]&&_t(t);return{c(){e=p("main"),n=p("section"),n.innerHTML="<h1>Webclip Maker</h1>",o=h(),i=p("section"),l=p("div"),l.textContent="Create",c=h(),r=p("h3"),r.textContent="Saved Configurations",s=h();for(let t=0;t<x.length;t+=1)x[t].c();_&&_.c(),g=h(),C&&C.c(),b(n,"class","header svelte-l0qpl9"),b(l,"class","button svelte-l0qpl9"),b(i,"class","svelte-l0qpl9")},m(f,d){u(f,e,d),a(e,n),a(e,o),a(e,i),a(i,l),a(i,c),a(i,r),a(i,s);for(let t=0;t<x.length;t+=1)x[t].m(i,null);_&&_.m(i,null),a(e,g),C&&C.m(e,null),v=!0,$||(y=m(l,"click",t[4]),$=!0)},p(t,[n]){if(1858&n){let e;for(w=t[1],e=0;e<w.length;e+=1){const o=yt(t,w,e);x[e]?x[e].p(o,n):(x[e]=xt(o),x[e].c(),x[e].m(i,null))}for(;e<x.length;e+=1)x[e].d(1);x.length=w.length,w.length?_&&(_.d(1),_=null):_||(_=wt(),_.c(),_.m(i,null))}t[2]?C?(C.p(t,n),4&n&&O(C,1)):(C=_t(t),C.c(),O(C,1),C.m(e,null)):C&&(M(),N(C,1,1,(()=>{C=null})),j())},i(t){v||(O(C),v=!0)},o(t){N(C),v=!1},d(t){t&&f(e),d(x,t),_&&_.d(),C&&C.d(),$=!1,y()}}}function kt(t,e,n){let o;var i;let l;c(t,pt,(t=>n(12,o=t))),i=()=>{console.log(o)},x().$$.on_mount.push(i);let r,s=o,a=!1;function u(t){let e=[];for(let n of o)n.id==t&&e.push(n);return e[0]}function f(t){let e=t.target;return 0==e.id.length&&e.parentElement.id.length>0&&(e=e.parentElement),u([...e.attributes].find((t=>"id"==t.name)).value)}return[l,s,a,r,function(){const t=new ft;o.push(t),t.save(),n(1,s=[...o]),n(0,l=t),n(2,a=!0)},function(){n(0,l=void 0),n(2,a=!1)},function(t){let e=t.target;0==e.id.length&&e.parentElement.id.length>0&&(e=e.parentElement);let o=u([...e.attributes].find((t=>"id"==t.name)).value);console.log(o),n(0,l=o),n(2,a=!0)},function(){if(void 0===l)return;n(3,r.innerHTML="Saving...",r);let t=l.id;for(let e of o)e.id==t&&e.save();n(3,r.innerHTML="Saved!",r),n(1,s=[...o]),setTimeout((()=>n(3,r.innerHTML="Save Changes",r)),1e3)},function(t){let e=f(t).compile(),n=new Blob([e],{type:"application/xml"}),o=URL.createObjectURL(n);window.open(o,"_blank")},function(t){let e=f(t);console.log(e);let n=e.compile(),o=new Blob([n],{type:"application/x-apple-aspen-config"}),i=URL.createObjectURL(o);window.open(i,"_blank")},function(t){let e=f(t);confirm(`Are you sure you would like to remove the Config "${e.config_name}"? This action cannot be undone`)&&(console.log(e),o.splice(o.findIndex((t=>t.id==e.id)),1),function(t){if(void 0===localStorage[`mconfig-${t}`])throw 404;localStorage.removeItem(`mconfig-${t}`)}(e.id),n(1,s=[...o]))},function(t){k[t?"unshift":"push"]((()=>{r=t,n(3,r)}))}]}return new class extends F{constructor(t){super(),z(this,t,kt,Ct,l,{})}}({target:document.body,props:{}})}();
//# sourceMappingURL=bundle.js.map
