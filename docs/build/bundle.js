var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function o(t){t.forEach(e)}function i(t){return"function"==typeof t}function l(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function c(e,n,o){e.$$.on_destroy.push(function(e,...n){if(null==e)return t;const o=e.subscribe(...n);return o.unsubscribe?()=>o.unsubscribe():o}(n,o))}function r(t,e,n,o){return t[1]&&o?function(t,e){for(const n in e)t[n]=e[n];return t}(n.ctx.slice(),t[1](o(e))):n.ctx}function s(t,e,n,o,i,l,c){const s=function(t,e,n,o){if(t[2]&&o){const i=t[2](o(n));if(void 0===e.dirty)return i;if("object"==typeof i){const t=[],n=Math.max(e.dirty.length,i.length);for(let o=0;o<n;o+=1)t[o]=e.dirty[o]|i[o];return t}return e.dirty|i}return e.dirty}(e,o,i,l);if(s){const i=r(e,n,o,c);t.p(i,s)}}function a(t,e){t.appendChild(e)}function u(t,e,n){t.insertBefore(e,n||null)}function f(t){t.parentNode.removeChild(t)}function d(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function p(t){return document.createElement(t)}function g(t){return document.createTextNode(t)}function m(){return g(" ")}function h(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function v(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function b(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function $(t,e){t.value=null==e?"":e}let y;function w(t){y=t}function x(){if(!y)throw new Error("Function called outside component initialization");return y}function k(){const t=x();return(e,n)=>{const o=t.$$.callbacks[e];if(o){const i=function(t,e){const n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!1,!1,e),n}(e,n);o.slice().forEach((e=>{e.call(t,i)}))}}}const _=[],C=[],P=[],S=[],U=Promise.resolve();let L=!1;function R(t){P.push(t)}let E=!1;const I=new Set;function A(){if(!E){E=!0;do{for(let t=0;t<_.length;t+=1){const e=_[t];w(e),T(e.$$)}for(w(null),_.length=0;C.length;)C.pop()();for(let t=0;t<P.length;t+=1){const e=P[t];I.has(e)||(I.add(e),e())}P.length=0}while(_.length);for(;S.length;)S.pop()();L=!1,E=!1,I.clear()}}function T(t){if(null!==t.fragment){t.update(),o(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(R)}}const j=new Set;let D;function M(){D={r:0,c:[],p:D}}function O(){D.r||o(D.c),D=D.p}function z(t,e){t&&t.i&&(j.delete(t),t.i(e))}function N(t,e,n,o){if(t&&t.o){if(j.has(t))return;j.add(t),D.c.push((()=>{j.delete(t),o&&(n&&t.d(1),o())})),t.o(e)}}function V(t){t&&t.c()}function q(t,n,l){const{fragment:c,on_mount:r,on_destroy:s,after_update:a}=t.$$;c&&c.m(n,l),R((()=>{const n=r.map(e).filter(i);s?s.push(...n):o(n),t.$$.on_mount=[]})),a.forEach(R)}function B(t,e){const n=t.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function W(t,e){-1===t.$$.dirty[0]&&(_.push(t),L||(L=!0,U.then(A)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function H(e,i,l,c,r,s,a=[-1]){const u=y;w(e);const d=i.props||{},p=e.$$={fragment:null,ctx:null,props:s,update:t,not_equal:r,bound:n(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(u?u.$$.context:[]),callbacks:n(),dirty:a,skip_bound:!1};let g=!1;if(p.ctx=l?l(e,d,((t,n,...o)=>{const i=o.length?o[0]:n;return p.ctx&&r(p.ctx[t],p.ctx[t]=i)&&(!p.skip_bound&&p.bound[t]&&p.bound[t](i),g&&W(e,t)),n})):[],p.update(),g=!0,o(p.before_update),p.fragment=!!c&&c(p.ctx),i.target){if(i.hydrate){const t=function(t){return Array.from(t.childNodes)}(i.target);p.fragment&&p.fragment.l(t),t.forEach(f)}else p.fragment&&p.fragment.c();i.intro&&z(e.$$.fragment),q(e,i.target,i.anchor),A()}w(u)}class F{$destroy(){B(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const Y=t=>({}),G=t=>({class:"body"});function J(t){let e,n,o,i,l,c,d,$,y,w,x;const k=t[4].default,_=function(t,e,n,o){if(t){const i=r(t,e,n,o);return t[0](i)}}(k,t,t[3],G);return{c(){e=p("main"),n=p("div"),o=p("p"),i=g(t[0]),l=m(),c=p("div"),d=p("div"),d.textContent="Remove",$=m(),_&&_.c(),v(o,"class","title svelte-3tm6xz"),v(d,"class","red svelte-3tm6xz"),v(c,"class","controls svelte-3tm6xz"),v(n,"class","header svelte-3tm6xz")},m(r,s){u(r,e,s),a(e,n),a(n,o),a(o,i),a(n,l),a(n,c),a(c,d),a(e,$),_&&_.m(e,null),y=!0,w||(x=h(d,"click",t[1]),w=!0)},p(t,[e]){(!y||1&e)&&b(i,t[0]),_&&_.p&&8&e&&s(_,k,t,t[3],e,Y,G)},i(t){y||(z(_,t),y=!0)},o(t){N(_,t),y=!1},d(t){t&&f(e),_&&_.d(t),w=!1,x()}}}function K(t,e,n){let{$$slots:o={},$$scope:i}=e;var{title:l=""}=e;let{cellid:c}=e;const r=k();return t.$$set=t=>{"title"in t&&n(0,l=t.title),"cellid"in t&&n(2,c=t.cellid),"$$scope"in t&&n(3,i=t.$$scope)},[l,function(){r("message",{remove:!0,id:c})},c,i,o]}class Q extends F{constructor(t){super(),H(this,t,K,J,l,{title:0,cellid:2})}}function X(e){let n;return{c(){n=p("p"),n.textContent="Click to add Icon"},m(t,e){u(t,n,e)},p:t,d(t){t&&f(n)}}}function Z(t){let e,n;return{c(){e=p("img"),e.src!==(n=t[0])&&v(e,"src",n),v(e,"alt","Click to add Icon"),v(e,"class","svelte-19f6e1e")},m(t,n){u(t,e,n)},p(t,o){1&o&&e.src!==(n=t[0])&&v(e,"src",n)},d(t){t&&f(e)}}}function tt(e){let n,i,l,c,r,s,d;function g(t,e){return""!=t[0]?Z:X}let b=g(e),$=b(e);return{c(){var t,o,s;n=p("main"),i=p("div"),l=p("input"),r=m(),$.c(),v(l,"type","file"),v(l,"accept","image/*"),v(l,"name",c="icon["+e[1]+"]"),t="display",o="none",l.style.setProperty(t,o,s?"important":""),l.required=!0,v(i,"class","icon svelte-19f6e1e")},m(t,o){u(t,n,o),a(n,i),a(i,l),e[5](l),a(i,r),$.m(i,null),s||(d=[h(l,"change",e[4]),h(i,"click",e[3])],s=!0)},p(t,[e]){2&e&&c!==(c="icon["+t[1]+"]")&&v(l,"name",c),b===(b=g(t))&&$?$.p(t,e):($.d(1),$=b(t),$&&($.c(),$.m(i,null)))},i:t,o:t,d(t){t&&f(n),e[5](null),$.d(),s=!1,o(d)}}}function et(t,e,n){let o,{icon:i=""}=e,{index:l}=e;const c=k();return t.$$set=t=>{"icon"in t&&n(0,i=t.icon),"index"in t&&n(1,l=t.index)},[i,l,o,function(){o.click()},function(){let t=o.files[0],e=new FileReader;e.onload=t=>{n(0,i=t.target.result),c("message",{icon:i,index:l})},e.readAsDataURL(t),console.log(i)},function(t){C[t?"unshift":"push"]((()=>{o=t,n(2,o)}))}]}class nt extends F{constructor(t){super(),H(this,t,et,tt,l,{icon:0,index:1})}}var ot="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),it=new Uint8Array(16);function lt(){if(!ot)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return ot(it)}var ct=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function rt(t){return"string"==typeof t&&ct.test(t)}for(var st=[],at=0;at<256;++at)st.push((at+256).toString(16).substr(1));function ut(t,e,n){var o=(t=t||{}).random||(t.rng||lt)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,e){n=n||0;for(var i=0;i<16;++i)e[n+i]=o[i];return e}return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(st[t[e+0]]+st[t[e+1]]+st[t[e+2]]+st[t[e+3]]+"-"+st[t[e+4]]+st[t[e+5]]+"-"+st[t[e+6]]+st[t[e+7]]+"-"+st[t[e+8]]+st[t[e+9]]+"-"+st[t[e+10]]+st[t[e+11]]+st[t[e+12]]+st[t[e+13]]+st[t[e+14]]+st[t[e+15]]).toLowerCase();if(!rt(n))throw TypeError("Stringified UUID is invalid");return n}(o)}const{parse:ft,build:dt}=globalThis.plist;class pt{constructor(t){this.config_name="",this.config_author="",this.webclips=[],this.id=t||this.genString()}async loadIcon(t){if(void 0===this.webclips[t])throw 404;const e=this.webclips[t],n=await fetch(e.iconurl).then((t=>t.arrayBuffer()));return this.webclips[t].icon=new Uint8Array(n),this.webclips[t].icon}load(t){const e=ft(t);this.config_name=e.PayloadDisplayName,this.config_author=e.PayloadOrganization;for(const t of e.PayloadContent){console.log(t.Icon);const e=new Blob([t.Icon],{type:"image/png"}),n=URL.createObjectURL(e);console.log(t),this.webclips=[...this.webclips,{name:t.Label,icon:t.Icon,iconurl:n,url:t.URL}]}return this}compile(){const t=ut().toUpperCase(),e=[];if(void 0!==this.webclips&&this.webclips.length>0)for(const t of this.webclips){if(null===t.icon)continue;const n=ut().toUpperCase();e.push({FullScreen:!0,Icon:t.icon,IsRemovable:!0,Label:t.name,PayloadDescription:"Web app bundled into a config, generated by @S0n1c_Dev",PayloadIdentifier:`com.apple.webClip.managed.${n}`,PayloadType:"com.apple.webClip.managed",PayloadUUID:n,PayloadVersion:1,Precomposed:!0,URL:t.url})}const n={PayloadContent:e,PayloadDescription:"This config was generated via WebClip Maker by @S0n1c_Dev.",PayloadDisplayName:this.config_name,PayloadIdentifier:`ca.s0n1c.ios.webclip.${t}`,PayloadOrganization:this.config_author,PayloadRemovalDisallowed:!1,PayloadType:"Configuration",PayloadUUID:t,PayloadVersion:1};let o;try{o=dt(n)}catch(t){throw console.log(t),t}return console.log(o),o}genString(t=10){for(var e="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",o=n.length,i=0;i<t;i++)e+=n.charAt(Math.floor(Math.random()*o));return e}async save(){console.log(this);const t=this.compile();localStorage.setItem(`mconfig-${this.id}`,t)}}const gt=[];const mt=function(e,n=t){let o;const i=[];function c(t){if(l(e,t)&&(e=t,o)){const t=!gt.length;for(let t=0;t<i.length;t+=1){const n=i[t];n[1](),gt.push(n,e)}if(t){for(let t=0;t<gt.length;t+=2)gt[t][0](gt[t+1]);gt.length=0}}}return{set:c,update:function(t){c(t(e))},subscribe:function(l,r=t){const s=[l,r];return i.push(s),1===i.length&&(o=n(c)||t),l(e),()=>{const t=i.indexOf(s);-1!==t&&i.splice(t,1),0===i.length&&(o(),o=null)}}}}(function(){const t=[],e=Object.keys(localStorage).filter((t=>t.startsWith("mconfig-")));if(e.length>0)for(const n of e){const e=localStorage.getItem(n),o=n.split("mconfig-")[1],i=new pt(o);i.load(e),t.push(i)}return t}());function ht(t,e,n){const o=t.slice();return o[14]=e[n],o[15]=e,o[16]=n,o}function vt(t){let e,n,i,l,c,r,s,a,d,g,b;function y(){t[8].call(e,t[16])}function w(e){t[9].call(null,e,t[16])}let x={index:t[16]};function k(){t[10].call(s,t[16])}return void 0!==t[0].webclips[t[16]].iconurl&&(x.icon=t[0].webclips[t[16]].iconurl),l=new nt({props:x}),C.push((()=>function(t,e,n){const o=t.$$.props[e];void 0!==o&&(t.$$.bound[o]=n,n(t.$$.ctx[o]))}(l,"icon",w))),l.$on("message",t[2]),{c(){e=p("input"),i=m(),V(l.$$.fragment),r=m(),s=p("input"),v(e,"type","text"),v(e,"name",n="name["+t[16]+"]"),v(e,"placeholder","Name"),e.required=!0,v(s,"type","url"),v(s,"name",a="url["+t[16]+"]"),v(s,"placeholder","URL"),s.required=!0},m(n,o){u(n,e,o),$(e,t[0].webclips[t[16]].name),u(n,i,o),q(l,n,o),u(n,r,o),u(n,s,o),$(s,t[0].webclips[t[16]].url),d=!0,g||(b=[h(e,"input",y),h(s,"input",k)],g=!0)},p(n,o){t=n,1&o&&e.value!==t[0].webclips[t[16]].name&&$(e,t[0].webclips[t[16]].name);const i={};var r;!c&&1&o&&(c=!0,i.icon=t[0].webclips[t[16]].iconurl,r=()=>c=!1,S.push(r)),l.$set(i),1&o&&$(s,t[0].webclips[t[16]].url)},i(t){d||(z(l.$$.fragment,t),d=!0)},o(t){N(l.$$.fragment,t),d=!1},d(t){t&&f(e),t&&f(i),B(l,t),t&&f(r),t&&f(s),g=!1,o(b)}}}function bt(t){let e,n,o;return n=new Q({props:{title:"Web App Settings",cellid:t[16],$$slots:{default:[vt]},$$scope:{ctx:t}}}),n.$on("message",t[4]),{c(){e=p("div"),V(n.$$.fragment),v(e,"class","formgroup")},m(t,i){u(t,e,i),q(n,e,null),o=!0},p(t,e){const o={};131073&e&&(o.$$scope={dirty:e,ctx:t}),n.$set(o)},i(t){o||(z(n.$$.fragment,t),o=!0)},o(t){N(n.$$.fragment,t),o=!1},d(t){t&&f(e),B(n)}}}function $t(t){let e,n,i,l,c,r,s,g,b,y,w,x,k,_,C,P=t[1],S=[];for(let e=0;e<P.length;e+=1)S[e]=bt(ht(t,P,e));const U=t=>N(S[t],1,1,(()=>{S[t]=null}));return{c(){e=p("main"),n=p("form"),i=p("div"),l=p("input"),c=m(),r=p("input"),s=m();for(let t=0;t<S.length;t+=1)S[t].c();g=m(),b=p("div"),b.textContent="Add App",y=m(),w=p("br"),x=p("br"),v(l,"type","text"),v(l,"name","config_name"),v(l,"placeholder","Profile Name"),l.required=!0,v(r,"type","text"),v(r,"name","config_author"),v(r,"placeholder","Profile Author"),r.required=!0,v(i,"class","formgroup"),v(b,"class","button svelte-1oy70ja"),v(n,"enctype","multipart/form-data"),v(e,"class","svelte-1oy70ja")},m(o,f){u(o,e,f),a(e,n),a(n,i),a(i,l),$(l,t[0].config_name),a(i,c),a(i,r),$(r,t[0].config_author),a(n,s);for(let t=0;t<S.length;t+=1)S[t].m(n,null);a(n,g),a(n,b),a(n,y),a(n,w),a(n,x),k=!0,_||(C=[h(l,"input",t[6]),h(r,"input",t[7]),h(b,"click",t[3])],_=!0)},p(t,[e]){if(1&e&&l.value!==t[0].config_name&&$(l,t[0].config_name),1&e&&r.value!==t[0].config_author&&$(r,t[0].config_author),23&e){let o;for(P=t[1],o=0;o<P.length;o+=1){const i=ht(t,P,o);S[o]?(S[o].p(i,e),z(S[o],1)):(S[o]=bt(i),S[o].c(),z(S[o],1),S[o].m(n,g))}for(M(),o=P.length;o<S.length;o+=1)U(o);O()}},i(t){if(!k){for(let t=0;t<P.length;t+=1)z(S[t]);k=!0}},o(t){S=S.filter(Boolean);for(let t=0;t<S.length;t+=1)N(S[t]);k=!1},d(t){t&&f(e),d(S,t),_=!1,o(C)}}}function yt(t,e,n){let o;c(t,mt,(t=>n(11,o=t)));let i,{id:l}=e,r=o.find((t=>t.id==l));return globalThis.config=r,t.$$set=t=>{"id"in t&&n(5,l=t.id)},t.$$.update=()=>{1&t.$$.dirty&&n(1,i=r.webclips)},[r,i,function(t){if("string"!=typeof t.detail.icon||"number"!=typeof t.detail.index)return!1;r.loadIcon(t.detail.index)},function(){n(0,r.webclips=[...r.webclips,{name:"",icon:null,iconurl:"",url:""}],r)},function(t){console.log(t),"boolean"==typeof t.detail.remove&&t.detail.remove&&(console.log(`removing payload ${t.detail.id}`,t.detail,r.webclips[t.detail.id]),function(t){let e=[...r.webclips];e.splice(t,1),n(0,r.webclips=[...e],r)}(t.detail.id))},l,function(){r.config_name=this.value,n(0,r)},function(){r.config_author=this.value,n(0,r)},function(t){r.webclips[t].name=this.value,n(0,r)},function(t,e){r.webclips[e].iconurl=t,n(0,r)},function(t){r.webclips[t].url=this.value,n(0,r)}]}class wt extends F{constructor(t){super(),H(this,t,yt,$t,l,{id:5})}}function xt(t,e,n){const o=t.slice();return o[15]=e[n],o}function kt(t){let e;return{c(){e=p("p"),e.textContent="You don't seem to have any saved web app profiles... Make one above!"},m(t,n){u(t,e,n)},d(t){t&&f(e)}}}function _t(t){let e,n,i,l,c,r,s,d,$,y,w,x,k,_,C,P,S,U,L,R,E,I,A,T,j,D,M,O,z=(t[15].config_name||"Untitled Config")+"",N=t[15].webclips.length+"";return{c(){e=p("div"),n=p("div"),i=p("p"),l=g(z),c=m(),r=p("p"),s=g("Web App count: "),d=g(N),$=m(),y=p("div"),w=p("div"),x=p("i"),_=m(),C=p("div"),P=p("i"),U=m(),L=p("div"),R=p("i"),I=m(),A=p("div"),T=p("i"),D=m(),v(n,"class","info svelte-1gv8kp5"),v(x,"class","fas fa-mobile"),v(w,"class","blue svelte-1gv8kp5"),v(w,"id",k=t[15].id),v(P,"class","fas fa-long-arrow-alt-down"),v(C,"class","blue svelte-1gv8kp5"),v(C,"id",S=t[15].id),v(R,"class","far fa-edit"),v(L,"class","blue svelte-1gv8kp5"),v(L,"id",E=t[15].id),v(T,"class","fas fa-trash"),v(A,"class","red svelte-1gv8kp5"),v(A,"id",j=t[15].id),v(y,"class","buttons svelte-1gv8kp5"),v(e,"class","cell svelte-1gv8kp5")},m(o,f){u(o,e,f),a(e,n),a(n,i),a(i,l),a(n,c),a(n,r),a(r,s),a(r,d),a(e,$),a(e,y),a(y,w),a(w,x),a(y,_),a(y,C),a(C,P),a(y,U),a(y,L),a(L,R),a(y,I),a(y,A),a(A,T),a(e,D),M||(O=[h(w,"click",t[9]),h(C,"click",t[8]),h(L,"click",t[6]),h(A,"click",t[10])],M=!0)},p(t,e){2&e&&z!==(z=(t[15].config_name||"Untitled Config")+"")&&b(l,z),2&e&&N!==(N=t[15].webclips.length+"")&&b(d,N),2&e&&k!==(k=t[15].id)&&v(w,"id",k),2&e&&S!==(S=t[15].id)&&v(C,"id",S),2&e&&E!==(E=t[15].id)&&v(L,"id",E),2&e&&j!==(j=t[15].id)&&v(A,"id",j)},d(t){t&&f(e),M=!1,o(O)}}}function Ct(t){let e,n,i,l,c,r,s,d,g,b,$,y,w,x,k;return y=new wt({props:{id:t[0].id}}),{c(){e=p("div"),n=m(),i=p("div"),l=p("div"),c=p("div"),c.textContent="Config Settings",r=m(),s=p("div"),d=p("div"),d.textContent="Save",g=m(),b=p("div"),b.textContent="✕",$=m(),V(y.$$.fragment),v(e,"class","modal-overlay svelte-1gv8kp5"),v(c,"class","title svelte-1gv8kp5"),v(d,"class","blue svelte-1gv8kp5"),v(b,"class","red svelte-1gv8kp5"),v(s,"class","buttons svelte-1gv8kp5"),v(l,"class","header svelte-1gv8kp5"),v(i,"class","modal show svelte-1gv8kp5")},m(o,f){u(o,e,f),u(o,n,f),u(o,i,f),a(i,l),a(l,c),a(l,r),a(l,s),a(s,d),t[11](d),a(s,g),a(s,b),a(i,$),q(y,i,null),w=!0,x||(k=[h(e,"click",t[5]),h(d,"click",t[7]),h(b,"click",t[5])],x=!0)},p(t,e){const n={};1&e&&(n.id=t[0].id),y.$set(n)},i(t){w||(z(y.$$.fragment,t),w=!0)},o(t){N(y.$$.fragment,t),w=!1},d(l){l&&f(e),l&&f(n),l&&f(i),t[11](null),B(y),x=!1,o(k)}}}function Pt(t){let e,n,o,i,l,c,r,s,g,b,$,y,w=t[1],x=[];for(let e=0;e<w.length;e+=1)x[e]=_t(xt(t,w,e));let k=null;w.length||(k=kt());let _=t[2]&&Ct(t);return{c(){e=p("main"),n=p("section"),n.innerHTML="<h1>Webclip Maker</h1>",o=m(),i=p("section"),l=p("div"),l.textContent="Create",c=m(),r=p("h3"),r.textContent="Saved Configurations",s=m();for(let t=0;t<x.length;t+=1)x[t].c();k&&k.c(),g=m(),_&&_.c(),v(n,"class","header svelte-1gv8kp5"),v(l,"class","button svelte-1gv8kp5"),v(i,"class","svelte-1gv8kp5")},m(f,d){u(f,e,d),a(e,n),a(e,o),a(e,i),a(i,l),a(i,c),a(i,r),a(i,s);for(let t=0;t<x.length;t+=1)x[t].m(i,null);k&&k.m(i,null),a(e,g),_&&_.m(e,null),b=!0,$||(y=h(l,"click",t[4]),$=!0)},p(t,[n]){if(1858&n){let e;for(w=t[1],e=0;e<w.length;e+=1){const o=xt(t,w,e);x[e]?x[e].p(o,n):(x[e]=_t(o),x[e].c(),x[e].m(i,null))}for(;e<x.length;e+=1)x[e].d(1);x.length=w.length,w.length?k&&(k.d(1),k=null):k||(k=kt(),k.c(),k.m(i,null))}t[2]?_?(_.p(t,n),4&n&&z(_,1)):(_=Ct(t),_.c(),z(_,1),_.m(e,null)):_&&(M(),N(_,1,1,(()=>{_=null})),O())},i(t){b||(z(_),b=!0)},o(t){N(_),b=!1},d(t){t&&f(e),d(x,t),k&&k.d(),_&&_.d(),$=!1,y()}}}function St(t,e,n){let o;var i;let l;c(t,mt,(t=>n(12,o=t))),i=()=>{console.log(o)},x().$$.on_mount.push(i);let r,s=o,a=!1;function u(t){let e=[];for(let n of o)n.id==t&&e.push(n);return e[0]}function f(t){let e=t.target;return 0==e.id.length&&e.parentElement.id.length>0&&(e=e.parentElement),u([...e.attributes].find((t=>"id"==t.name)).value)}return[l,s,a,r,function(){const t=new pt;o.push(t),t.save(),n(1,s=[...o]),n(0,l=t),n(2,a=!0)},function(){n(0,l=void 0),n(2,a=!1)},function(t){let e=t.target;0==e.id.length&&e.parentElement.id.length>0&&(e=e.parentElement);let o=u([...e.attributes].find((t=>"id"==t.name)).value);console.log(o),n(0,l=o),n(2,a=!0)},function(){if(void 0===l)return;n(3,r.innerHTML="Saving...",r);let t=l.id;for(let e of o)e.id==t&&e.save();n(3,r.innerHTML="Saved!",r),n(1,s=[...o]),setTimeout((()=>n(3,r.innerHTML="Save Changes",r)),1e3)},function(t){let e=f(t).compile(),n=new Blob([e],{type:"application/xml"}),o=URL.createObjectURL(n);window.open(o,"_blank")},function(t){let e=f(t);console.log(e);let n=e.compile(),o=new Blob([n],{type:"application/x-apple-aspen-config"}),i=URL.createObjectURL(o);window.open(i,"_blank")},function(t){let e=f(t);confirm(`Are you sure you would like to remove the Config "${e.config_name}"? This action cannot be undone`)&&(console.log(e),o.splice(o.findIndex((t=>t.id==e.id)),1),function(t){if(void 0===localStorage[`mconfig-${t}`])throw 404;localStorage.removeItem(`mconfig-${t}`)}(e.id),n(1,s=[...o]))},function(t){C[t?"unshift":"push"]((()=>{r=t,n(3,r)}))}]}return new class extends F{constructor(t){super(),H(this,t,St,Pt,l,{})}}({target:document.body,props:{}})}();
//# sourceMappingURL=bundle.js.map
